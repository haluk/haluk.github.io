{:title "Compiling GccEmacs"
 :layout :post
 :author "Haluk Dogan"
 :date "2021-02-24"
 :tags  ["emacs"]
 :toc true}

I compile gccemacs from source.`libgccjit` is required.

```bash
yay -S libgccjit
git clone git://git.savannah.gnu.org/emacs.git -b feature/native-comp

export LD="/usr/bin/ld.gold"
export CFLAGS="-g -flto -fuse-ld=gold"
export CXXFLAGS="-g -flto -fuse-ld=gold"

./autogen.sh

./configure \
--with-dbus \
--with-lcms2 \
--with-gif \
--with-jpeg \
--with-png \
--with-rsvg \
--with-xpm \
--with-tiff \
--with-xwidgets \
--with-x-toolkit=gtk3 \
--with-xft \
--without-xaw3d \
--with-cairo \
--with-xml2 \
--with-libotf \
--with-mailutils \
--with-json \
--with-gnutls \
--without-gconf \
--without-gsettings \
--with-sound=alsa \
--with-modules \
--with-native-compilation \
--enable-link-time-optimization \
--prefix=$HOME/.local/

make -j$(nproc)
```
