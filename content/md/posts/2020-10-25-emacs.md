{:title "Show Only Matched Strings in a New Buffer"
 :layout :post
 :author "Haluk Dogan"
 :date "2020-10-25"
 :tags  ["emacs"]
 :toc true}

```lisp
(defun get-only-matched (query)
  "1. Goto the beginning of the current buffer; perform the search and store the matched strings
   2. Go back to the point of origin; create a new buffer; insert the matched strings into the new buffer
   3. Switch to the new buffer; go to the beginning of the new buffer."
  (interactive "sQuery:")
  (let (matched-list)
    (save-excursion
      (goto-char (point-min))
      (while (re-search-forward query nil t)
        (push
         (buffer-substring-no-properties (match-beginning 0) (match-end 0))
         matched-list)))
    (with-current-buffer (get-buffer-create "*MATCHED*")
      (mapc
       (lambda (matched)
         (insert matched "\n"))
       matched-list))
    (switch-to-buffer (get-buffer "*MATCHED*"))
    (goto-char (point-min))))
```
